"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{36134:function(e,t){t.DF={prefix:"fasr",iconName:"layer-plus",icon:[576,512,["layer-group-plus"],"f5ff","M484 24V60h36 20v40H520 484v36 20H444V136 100H408 388V60h20 36V24 4h40V24zM118.2 256L288 331.5 457.8 256 288 180.5 118.2 256zM288 128L516.9 229.7 576 256l-59.1 26.3L288 384 59.1 282.3 0 256l59.1-26.3L288 128zM104.6 337.5l59.1 26.3L118.2 384 288 459.5 457.8 384l-45.5-20.2 59.1-26.3 45.5 20.2L576 384l-59.1 26.3L288 512 59.1 410.3 0 384l59.1-26.3 45.5-20.2z"]},t.Oq=t.DF},44195:function(e,t,i){var n=i(85893),l=i(77438),r=i(20154),o=i(99603);i(67294);let s=e=>{let{textVariant:t="baseSemi",textColor:i="default",assistant:s}=e;return s!=r.w9.internet&&null!=r.yW[s]?(0,n.jsx)(l.xu,{children:(0,n.jsxs)(l.RT,{variant:t,color:i,className:"flex items-center gap-x-xs",children:[(0,n.jsx)(o.G,{size:"1x",icon:r.yW[s].icon}),(0,n.jsx)("div",{children:r.yW[s].text})]})}):null};t.Z=s},96658:function(e,t,i){var n=i(85893),l=i(87615),r=i(77438),o=i(99603),s=i(1177),a=i(8945),c=i(84371),d=i(36134),u=i(3018),x=i(41664),h=i.n(x);i(67294);var m=i(28620),p=i(44195),f=i(24054);let g=e=>{let{title:t,preview:i,threadCount:x,lastUpdated:g,href:v="/",rwToken:j,threadID:w,onDelete:y,onAddToCollection:k,onSwapCollection:N,onRemoveFromCollection:C,assistant:T,copilot:b,socialInfo:_,showActionMenu:R=!0,currentCollection:I,allCollections:S,authorImage:D}=e;return(0,n.jsxs)(r.xu,{className:"py-md  md:px-0 max-w-[100%]",children:[(0,n.jsx)("div",{className:"flex items-center gap-x-sm"}),(0,n.jsx)(h(),{href:v,className:"block group",children:(0,n.jsxs)(r.xu,{className:"group flex justify-between gap-x-sm",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)(r.RT,{variant:"baseSemi",children:(0,n.jsx)("div",{className:"md:group-hover:text-super md:dark:group-hover:text-superDark transition duration-300 line-clamp-1 break-all",children:t})}),(0,n.jsx)(r.RT,{color:"light",className:"line-clamp-2 mt-two break-all",children:i})]}),null!=D&&(0,n.jsx)(f.Z,{size:"small",user:D})]})}),(0,n.jsx)("div",{className:R?"mt-xs":"mt-sm",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex gap-x-md items-center",children:[(0,n.jsx)(r.le,{timestamp:g}),x>1&&(0,n.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,n.jsx)(o.G,{icon:d.Oq})}),(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:x})]}),!!_&&(0,n.jsxs)(n.Fragment,{children:[_.view_count>0&&(0,n.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,n.jsx)(o.G,{icon:a.Md})}),(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,r.uf)(_.view_count)})]}),_.fork_count>0&&(0,n.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,n.jsx)(o.G,{icon:s.MD})}),(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,r.uf)(_.fork_count)})]}),_.like_count>0&&(0,n.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,n.jsx)(o.G,{icon:c.m6})}),(0,n.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,r.uf)(_.like_count)})]})]}),b&&(0,n.jsxs)("div",{className:"flex gap-x-xs items-center",children:[(0,n.jsx)(r.RT,{variant:"tiny",color:"super",children:(0,n.jsx)(o.G,{icon:(0,r.fI)().true.icon})}),(0,n.jsx)(r.RT,{variant:"tiny",color:"super",children:(0,r.fI)().true.text})]}),(0,n.jsx)(p.Z,{textColor:"light",textVariant:"tiny",assistant:T})]}),(0,n.jsxs)("div",{className:"flex items-center gap-x-xs",children:[null!=k&&I&&(0,n.jsx)(h(),{href:"/collections/".concat(I.url_slug),className:"block",children:(0,n.jsx)(r.xu,{className:"border rounded-full px-xs",children:(0,n.jsxs)(r.RT,{variant:"tiny",className:"flex items-center gap-x-xs cursor-pointer hover:opacity-70 duration-300 transition line-clamp-1 px-sm py-xs select-none",children:[(0,n.jsx)(m.B,{unified:I.emoji,size:"tiny"}),(0,n.jsx)("div",{className:"line-clamp-1",children:I.title})]})})}),R&&!I&&(0,n.jsx)(r.Av,{toolTip:"Add to Collection",onClick:k,icon:u.r8,size:"small"}),(0,n.jsx)(l.Z,{show:R,onDelete:y,onAddToCollection:k,onSwapCollection:N,onRemoveFromCollection:C,currentCollection:I,rwToken:j})]})]})})]})};t.Z=g},87615:function(e,t,i){var n=i(85893),l=i(77438),r=i(65238),o=i(3018),s=i(84940),a=i(10592),c=i(99017);let d=e=>{let{show:t,onDelete:i,onAddToCollection:d,onSwapCollection:u,onRemoveFromCollection:x,currentCollection:h,rwToken:m}=e;if(!t)return null;let p=[{icon:o.r8,text:"Add to Collection",show:null!=d&&null==h,onClick:d},{icon:s.a_,text:"Swap Collections",show:null!=u&&null!=h,onClick:u},{icon:c.g8,text:"Remove from Collection",show:null!=x&&null!=h,onClick:x},{icon:a.$,text:"Delete Thread",show:null!=i&&null!=m,onClick:i}];return(0,n.jsx)("div",{className:"-mr-xs",children:(0,n.jsx)(l.GV,{items:p,children:(0,n.jsx)(l.Av,{size:"small",icon:r.S6})})})};t.Z=d},80582:function(e,t,i){i.d(t,{QU:function(){return p}});var n=i(85893),l=i(48541),r=i(25110),o=i(36322),s=i(67294);let a=(e,t,i)=>{(0,s.useEffect)(()=>{let n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&t()})},i);return e.current&&n.observe(e.current),()=>{e.current&&n.unobserve(e.current)}},[e,t,i])};var c=i(8114),d=i(58917),u=i(7802),x=i(16184),h=i(77438),m=i(96658);let p=s.memo(s.forwardRef((e,t)=>{let{searchTerm:i,allCollections:l}=e,p=(0,s.useRef)(void 0),f=(0,s.useRef)(),v=(0,d.T)(),j=(0,o.D)(i),w=(0,r.J)(),[y,k]=(0,s.useState)([]);(0,s.useEffect)(()=>{var e;let t=new Set,n=[...p.current===i||j.isLoading?y:[],...null!==(e=j.data)&&void 0!==e?e:[]].filter(e=>!(t.has(e.uuid)||j.deletedThreads.has(e.uuid))&&(t.add(e.uuid),!0)),l=n.map(e=>{let t=y.find(t=>t.uuid===e.uuid);return t||e});n.length!==y.length&&(p.current=i,k(l))},[i,y,j.data,j.deletedThreads,j.isLoading]);let N=(0,s.useRef)(y);(0,s.useEffect)(()=>{N.current=y},[y]);let C=(0,s.useCallback)(()=>{j.paginationInfo.hasNextPage&&!j.isLoading&&j.paginationInfo.getNextPage()},[j]);a(f,C,{rootMargin:"50px",threshold:0});let T=(0,s.useCallback)(()=>{k([])},[]);(0,s.useImperativeHandle)(t,()=>({resetThreads:T}));let b=(0,s.useCallback)(e=>{k(t=>t.filter(t=>t.uuid!==e)),j.deleteThread(null!=e?e:""),h.zW.deleteThreadFromHistoryClick(e)},[j]),_=(e,t)=>{let i=N.current.map(i=>i.uuid===e?{...i,collection_uuid:t}:i);k(i)},R=(e,t)=>null==e?void 0:e.find(e=>e.uuid===t),I=(0,s.useCallback)((e,t)=>{let i="collectionSelectModal:update:".concat(e);v((0,u.ad)({isOpen:!0,userCollections:l,entryUUID:e,currentCollection:t,eventName:i})),x.Z.once(i,t=>{_(e,t)})},[l,v]),S=(0,s.useCallback)((e,t)=>{e&&w.removeCollectionThread(null==t?void 0:t.uuid,e,()=>{v((0,c.yl)(t.uuid)),_(e,void 0)})},[w,v]),D=y.map(g);return(0,n.jsxs)(n.Fragment,{children:[!(j.isLoading||j.isIdle)&&0===D.length&&(0,n.jsx)(h.xu,{variant:"offset",className:"p-xl mt-md flex items-center justify-center rounded",children:(0,n.jsx)(h.RT,{color:"light",children:"No threads yet"})}),(0,n.jsx)(h.xu,{className:"divide-y",children:D.map(e=>(0,n.jsx)(m.Z,{threadID:e.threadUuid,title:e.title,preview:e.preview,threadCount:e.threadCount,lastUpdated:e.lastUpdated,href:e.href,rwToken:e.rwToken,socialInfo:e.socialInfo,onDelete:()=>{b(e.threadUuid)},onAddToCollection:()=>{I(e.threadUuid)},onSwapCollection:()=>{I(e.threadUuid,R(l,e.collectionID))},onRemoveFromCollection:()=>{S(e.threadUuid,R(l,e.collectionID))},assistant:e.assistant,copilot:e.copilot,allCollections:l,currentCollection:R(l,e.collectionID)},e.href))}),(p.current===i&&j.isLoading||j.isIdle&&0==D.length)&&(0==D.length?(0,n.jsx)(h.xu,{className:"py-sm",children:(0,n.jsx)(h.Ow,{animateLines:!1,blockCount:12,divider:!0})}):(0,n.jsx)(h.xu,{className:"py-md"})),D.length>0&&(0,n.jsx)("div",{ref:f,className:"border border-transparent"})]})})),f=e=>{let t=(0,h.bJ)(e);return t?t.answer.replace(/\[\d+\]/g,""):"No preview."},g=e=>{var t,i;return{title:e.title&&e.title!==l.i?e.title:e.first_query,preview:f(e.first_answer),threadCount:e.query_count,lastUpdated:e.last_query_datetime,href:"/search/".concat(e.uuid),rwToken:e.read_write_token,assistant:e.search_focus,threadUuid:e.uuid,copilot:"copilot"===e.mode,socialInfo:e.social_info,collectionID:null!==(t=e.collection_uuid)&&void 0!==t?t:null,authorImage:null!==(i=e.author_image)&&void 0!==i?i:null}}},20154:function(e,t,i){i.d(t,{w9:function(){return j},yW:function(){return w}});var n=i(99152),l=i(62841),r=i(9647),o=i(79677),s=i(46246),a=i(79933),c=i(41754),d=i(51197),u=i(2868),x=i(92119),h=i(98350),m=i(77302),p=i(41991),f=i(10893),g=i(37677),v=i(27506);let j={internet:"internet",news:"news",reddit:"reddit",twitter:"twitter",in_page:"in_page",in_domain:"in_domain",wolfram:"wolfram",scholar:"scholar",youtube:"youtube",yelp:"yelp",klarna:"klarna",shopping:"shopping",writing:"writing",products:"products",marketer:"marketer",brainstorm:"brainstorm"},w={[j.internet]:{icon:h.g4,text:"All",info:"Search across the entire internet"},[j.news]:{icon:m.Xg,text:"News",info:"Search through the latest news articles"},[j.reddit]:{icon:n.HK,text:"Reddit",info:"Search for discussions and opinions"},[j.twitter]:{icon:l.md,text:"Twitter"},[j.in_page]:{icon:x.f,text:"This Page",info:"Search across this page's content"},[j.in_domain]:{icon:d.m6,text:"This Domain",info:"Search across this domain"},[j.wolfram]:{icon:s.t3,text:"Wolfram|Alpha",info:"Computational knowledge engine"},[j.yelp]:{icon:r.$k,text:"Yelp",info:"Discover local businesses"},[j.klarna]:{icon:v.sq,text:"Klarna",info:"Search for products on Klarna"},[j.shopping]:{icon:g.Yy,text:"Shopping",info:"Search for products"},[j.scholar]:{icon:a.Kt,text:"Academic",info:"Search in published academic papers"},[j.youtube]:{icon:o.op,text:"YouTube",info:"Discover and watch videos"},[j.writing]:{icon:f.Tz,text:"Writing",info:"Generate text or chat without searching the web"},[j.products]:{icon:u.Qf,text:"Product Opinions",info:"Get opinions on products from real people"},[j.marketer]:{icon:p.QE,text:"Marketer",info:"Write a marketing pitch for any product"},[j.brainstorm]:{icon:c.qx,text:"Brainstorm",info:"Help shape your ideas and thoughts"}}}}]);