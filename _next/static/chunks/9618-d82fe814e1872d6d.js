"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9618],{54522:function(e,s,l){var t=l(85893),i=l(77438),r=l(94184),a=l.n(r);l(67294);let n=e=>{let{actionList:s,size:l=i.$u.regular,variant:r="primary",fillSpace:n=!1,vertical:o=!1,layout:c="left",indicatorPos:d,iconOnly:m}=e,x=a()("items-center relative ",{"space-y-sm":o,"gap-x-xs flex h-full w-fit":!o,"justify-center":"center"===c,"w-full":n}),u=a()("relative  gap-x-sm ",{"h-full flex items-center":!o,"w-full px-two  justify-center":n});return(0,t.jsx)("div",{className:x,children:s.map(e=>{var s;return e.show?(0,t.jsxs)("div",{className:u,children:[(0,t.jsx)(i.Y6,{vertical:o,text:m?void 0:e.text,size:l,variant:r,fullWidth:n,active:e.active,icon:e.icon,onClick:e.onClick,href:e.href,layout:c,tooltipLayout:"right"===d?"right":"top",indicatorPos:d}),!m&&e.badge&&(0,t.jsx)(i.RT,{className:"pointer-events-none absolute right-0 md:right-md rounded p-xs bg-alert text-white top-[10px]",variant:"smallCaps",children:e.badge})]},null!==(s=e.key)&&void 0!==s?s:e.text):null})})};s.Z=n},20048:function(e,s,l){var t=l(85893),i=l(28663),r=l(77438),a=l(41664),n=l.n(a),o=l(67294);let c=e=>{let{}=e,s=(0,i.W)();return(0,t.jsx)("div",{children:(0,t.jsx)(r.xu,{className:"flex md:justify-center flex-wrap gap-x-md gap-y-sm px-sm md:px-0 pb-2xl md:pb-0",children:[{title:s?"Pro":"Try Pro",href:"/pro",super:!s},{title:"Careers",href:"/about"},{title:"FAQ",href:"https://perplexity-ai.notion.site/Perplexity-AI-FAQs-0a9141bdd1b94c76b955e892f73451ff?pvs=4",target:"_blank"},{title:"Labs",href:"https://labs.perplexity.ai",target:"_blank"},{title:"Blog",href:"/blog"},{title:"Privacy",href:"/privacy"},{title:"Terms",href:"/tos"}].map(e=>!e.hide&&(0,t.jsx)(o.Fragment,{children:(0,t.jsx)(n(),{href:e.href,target:e.target,children:(0,t.jsx)(r.RT,{variant:"small",color:e.super?"super":"light",className:"hover:underline",children:e.title})})},e.title))})})};s.Z=c},59618:function(e,s,l){l.d(s,{Z:function(){return ea}});var t=l(85893),i=l(37605),r=l(38671),a=l(77438),n=l(99603),o=l(70981),c=l(41664),d=l.n(c),m=l(67294);let x=m.memo(()=>{let[e,s]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=(0,r.ej)("trackingAllowed");!e&&(0,i.i)()&&s(!0)},[]);let l=(0,m.useCallback)(()=>{(0,r.d8)("trackingAllowed","true",{expires:365}),window.dispatchEvent(new CustomEvent("consentChange",{detail:{consent:"ALLOW"}})),s(!1)},[]),c=(0,m.useCallback)(()=>{(0,r.d8)("trackingAllowed","false",{expires:365}),s(!1)},[]);return e&&(0,t.jsxs)(a.xu,{variant:"background",className:"fixed bottom-sm left-sm md:left-auto right-sm p-md border rounded-lg shadow-sm z-50 max-w-md",children:[(0,t.jsxs)(a.RT,{variant:"baseSemi",className:"flex items-center gap-x-sm",children:[(0,t.jsx)(n.G,{icon:o.B1}),(0,t.jsx)("span",{children:"Cookie Policy"})]}),(0,t.jsxs)(a.RT,{variant:"small",color:"light",className:"text-sm mb-4",children:['We use cookies to enhance your experience. By clicking "Accept All Cookies" or selecting "Necessary Cookies", you agree to our'," ",(0,t.jsx)(d(),{href:"/privacy",className:"underline",children:"privacy policy"}),"."]}),(0,t.jsxs)(a.xu,{className:"flex items-center gap-x-sm",children:[(0,t.jsx)(a.zx,{size:"small",variant:"primary",onClick:l,text:"Accept All Cookies"}),(0,t.jsx)(a.zx,{size:"small",onClick:c,text:"Necessary Cookies"})]})]})});var u=l(94184),h=l.n(u),p=l(33299),f=l(73489),v=l(56035);let j=(0,v.oM)({name:"network",initialState:{userAgent:void 0,hostname:void 0},reducers:{setUserAgent:(e,s)=>{var l;e.userAgent=null!==(l=e.userAgent)&&void 0!==l?l:s.payload},setHostname:(e,s)=>{var l;e.hostname=null!==(l=e.hostname)&&void 0!==l?l:s.payload}}}),{setUserAgent:g,setHostname:b}=j.actions,y=e=>e.network.userAgent;j.reducer;var k=l(58917),w=l(7802),N=l(47500),C=l(99149),z=l(66182),A=l(93289),T=l(46313),W=l(10094),S=l(34399),B=l(50721),R=l(83226),_=l(11163),E=l(54522);let P=e=>{let{vertical:s=!0,size:l,collapsed:i}=e,r=(0,k.T)(),n=(0,_.useRouter)(),o=(0,a.dD)(),{data:c}=(0,p.useSession)(),d=(0,m.useMemo)(()=>{let e=n.pathname;return[{icon:"/"===e?B.Y$:z.Y$,text:"Home",href:"/",show:!0,active:"/"===e},{icon:e.startsWith("/discover")?S.GT:C.GT,text:"Discover",href:"/discover",show:!0,active:e.startsWith("/discover")},{icon:e.startsWith("/library")?R.G1:A.G1,text:"Library",href:c?"/library":void 0,badge:"New",onClick:()=>{c||r((0,w.vD)({isOpen:!0,pitchMessage:{title:"Sign in to save your threads"}})),a.zW.yourThreadsClick(null!=c)},show:!0,active:e.startsWith("/library")},{icon:e.startsWith("/profile")?W.bp:N.bp,text:"AI Profile",href:c?"/profile":void 0,show:!!c,onClick:()=>{c||r((0,w.vD)({isOpen:!0,pitchMessage:{title:"Sign in to customize your AI"}})),a.zW.yourThreadsClick(null!=c)},active:e.startsWith("/profile")},{icon:T.BE,text:"Login",onClick:()=>{a.zW.loginClick(),r((0,w.vD)({isOpen:!0}))},show:!c,active:e.startsWith("/login")}]},[n.pathname,c,r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Z,{layout:o?"stacked":i?"center":"left",size:l,iconOnly:i,vertical:s,actionList:d,indicatorPos:o?"top":i?"right":"none",fillSpace:!0}),(0,t.jsx)("div",{className:"ml-md mt-md mr-md hidden md:block",children:!c&&(0,t.jsx)(a.zx,{variant:"primary",pill:!0,fullWidth:!0,text:"Sign Up",onClick:()=>{a.zW.signupClick(),r((0,w.vD)({isOpen:!0}))}})})]})},L=e=>{let{}=e;return(0,a.dD)(),!function(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];let s=(0,f.v9)(y);null==s||s.includes("Chrome")}(),(0,t.jsx)(a.xu,{variant:"offset",className:"md:hidden bottom-0 fixed left-0 right-0 z-20",children:(0,t.jsx)(a.xu,{className:h()("px-sm  h-[64px] relative shadow-md border-t",{}),children:(0,t.jsx)(P,{size:"small",vertical:!1})})})};var D=l(28663),U=l(65695),Z=l(79032);let O=m.memo(e=>{let{}=e;(0,a.dD)(),(0,m.useCallback)(()=>{a.zW.clickBackButton(!0)},[]);let s=(0,m.useCallback)(()=>{a.zW.clickLogo(!0)},[]);(0,D.W)();let l=(0,a.Vm)(),i=l?Z.Av:U.us;return(0,t.jsx)(a.xu,{variant:"background",className:"py-sm px-sm fixed left-0 right-0 top-0 md:mb-0 z-10 w-full",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-x-sm md:hidden pl-xs",children:[(0,t.jsx)(d(),{href:"/",onClick:s,children:(0,t.jsx)(a.TR,{variant:"text",size:"small"})}),(0,t.jsx)(a.zx,{size:"small",pill:!0,variant:"primary",icon:i,text:"Get App",href:"/download-mobile"})]})})});var F=l(20048),G=l(89315),I=l(53085);let $=e=>{let{}=e,s=[{text:"iOS App",icon:Z.Av,href:"/iphone"},{text:"Android App",icon:U.us,href:"/android"},{text:"Chrome Default Search",target:"_blank",icon:z.Y$,href:"https://chrome.google.com/webstore/detail/perplexity-ai-search/bnaffjbjpgiagpondjlnneblepbdchol"},{text:"Chrome AI Companion",target:"_blank",icon:I.Nx,href:"https://chrome.google.com/webstore/detail/perplexity/hlgbcneanomplepojfcnclggenpcoldo/"}];return(0,t.jsx)(a.GV,{items:s,children:(0,t.jsx)(a.Av,{pill:!0,size:"small",icon:G.$S,text:"Download"})})},M=e=>{let{children:s}=e,l=(0,k.T)(),i=(0,m.useCallback)(()=>{l((0,w.UE)(!0))},[l]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{onClick:i,children:s})})};var Y=l(3018);let H=e=>{let{collapsed:s}=e,l=(0,a.KJ)();return(0,t.jsx)(t.Fragment,{children:s?(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(a.zx,{tooltipLayout:"right",icon:Y.r8,pill:!0,toolTip:"New Thread"})}):(0,t.jsx)("div",{className:"ml-sm",children:(0,t.jsxs)(a.xu,{variant:"background",className:"border rounded-full pl-md pr-sm py-sm flex flex-none justify-between items-center mx-md cursor-pointer group ring-2 ring-transparent hover:border-white hover:!ring-super transition duration-300 select-none",children:[(0,t.jsx)(a.RT,{variant:"smallBold",color:"light",className:"text-clip overflow-hidden line-clamp-1 ",children:"New Thread"}),(0,t.jsxs)(a.RT,{color:"light",className:"flex items-center space-x-two",children:[(0,t.jsx)(a.xu,{className:"font-mono text-bold rounded min-w-5 h-5 flex items-center px-xs justify-center border",children:l?"âŒ˜":"Ctrl"}),(0,t.jsx)(a.xu,{className:"font-mono text-xs rounded w-5 h-5 flex items-center justify-center border",children:l?"K":"I"})]})]})})})};var K=l(25159);let V=e=>{let{}=e,s=(0,D.W)();return s?null:(0,t.jsxs)(a.xu,{className:"px-md pb-sm",children:[(0,t.jsx)("div",{children:(0,t.jsx)(a.RT,{className:"inline",variant:"smallBold",children:"Try Pro"})}),(0,t.jsx)(a.RT,{color:"light",variant:"small",children:"Upgrade to Claude-2 or GPT-4, boost your Copilot uses, and upload more files."}),(0,t.jsx)("div",{className:"mt-xs",children:(0,t.jsx)(K.Z,{text:"Learn More"})})]})};var J=l(24054),Q=l(14181),q=l(1729),X=l(12022),ee=l(16566),es=l(80147),el=l(67983),et=l(52838);let ei=e=>{let{minimalLogo:s}=e,l=(0,k.T)(),{data:i}=(0,p.useSession)(),r=(0,D.W)(),{saveUserSettings:n}=(0,q.k)(),o=(0,k.C)(X.Fw),c=(0,m.useCallback)(e=>{l((0,X.Ot)(e)),n({is_sidebar_collapsed:e})},[l,n]);return(0,t.jsx)("div",{className:h()("transition-all duration-300 ease-in-out group/bar",{"w-sideBarWidth":!o,"w-collapsedSideBarWidth":o}),children:(0,t.jsx)(a.xu,{className:h()("h-full fixed z-20 transition-all duration-300 ease-in-out",{"w-sideBarWidth":!o,"w-collapsedSideBarWidth":o}),children:(0,t.jsxs)("div",{className:"pt-[12px] pb-sm sticky top-0 flex justify-between flex-col h-full",children:[(0,t.jsxs)("div",{className:"grow mt-xs",children:[o?(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(d(),{href:"/",className:" block ",children:(0,t.jsx)(a.TR,{includeEffects:!0,size:"small",variant:"mark",color:"super"})})}):(0,t.jsxs)("div",{className:"flex items-center justify-between mb-md",children:[(0,t.jsx)(d(),{href:"/",className:" block ",children:(0,t.jsx)("div",{className:"pr-sm pl-md ml-sm pt-xs",children:(0,t.jsx)(a.TR,{includeEffects:!0,color:"mixed",isPro:r,size:"small"})})}),i&&(0,t.jsx)("div",{className:"mr-xs pt-two ",children:(0,t.jsx)(a.Av,{icon:el.BH,size:"small",pill:!0,onClick:()=>c(!0)})})]}),(0,t.jsx)("div",{className:"my-md pt-two",children:(0,t.jsx)(M,{children:(0,t.jsx)(H,{collapsed:o})})}),(0,t.jsx)(P,{collapsed:o})]}),(0,t.jsxs)("div",{className:h()("flex flex-col",{"justify-center items-center":o}),children:[!o&&(0,t.jsx)(V,{}),o&&(0,t.jsx)("div",{className:"flex items-center justify-center pb-md",children:(0,t.jsx)(a.zx,{pill:!0,icon:et.vT,onClick:()=>c(!1),toolTip:"Expand sidebar",tooltipLayout:"right"})}),i&&(0,t.jsx)(d(),{href:"/settings",children:(0,t.jsx)(a.xu,{className:"px-sm py-sm",children:(0,t.jsxs)(a.xu,{bgHover:"offsetPlus",className:h()("flex  items-center rounded-full gap-x-sm",{"p-sm":o,"py-xs pl-sm pr-sm":!o}),children:[(0,t.jsx)(J.Z,{size:"medium",user:i.user.image}),!o&&(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Z,{username:i.user.username}),r&&(0,t.jsx)("div",{children:(0,t.jsx)(a.TR,{variant:"pro",size:"small"})})]})]})})}),!o&&(0,t.jsxs)(a.xu,{className:"flex items-center gap-x-xs my-sm pt-sm px-sm border-t",children:[(0,t.jsx)($,{}),(0,t.jsx)(a.Av,{size:a.$u.small,icon:es.NC,target:"_blank",pill:!0,href:"https://twitter.com/perplexity_ai"}),(0,t.jsx)(a.Av,{pill:!0,size:a.$u.small,icon:ee.om,target:"_blank",href:"https://discord.gg/perplexity-ai"})]})]})]})})})},er=e=>{let{mobileDefaultHeader:s=!0,showFooter:l=!0,showSidebar:i=!0,minimalLogo:r,children:n,childrenWidth:o="default",childrenPadding:c=!0,fillHeight:d=!1,header:m}=e,{data:u}=(0,p.useSession)(),f=(0,a.dD)();return(0,t.jsxs)(a.xu,{variant:"offset",className:"h-full",children:[(0,t.jsxs)("div",{className:"flex h-full min-h-[100vh]",children:[i&&(0,t.jsx)(a.xu,{className:"hidden md:block",children:(0,t.jsx)(ei,{minimalLogo:r})}),(0,t.jsx)("div",{className:"lg:pr-sm lg:pb-sm lg:pt-sm grow",children:(0,t.jsxs)(a.xu,{variant:i||f?"background":"offset",className:i?"lg:rounded-lg shadow-sm md:dark:border h-full overflow-clip bg-clip-border":"h-full overflow-clip bg-clip-border",children:[s&&(0,t.jsx)(a.xu,{className:"md:hidden pt-[48px]",children:(0,t.jsx)(O,{})}),(0,t.jsxs)("div",{className:"h-full",children:[m,(0,t.jsx)("div",{className:h()("w-full h-full mx-auto ",{"max-w-screen-sm md:px-lg  px-md":"small"===o,"max-w-screen-md md:px-lg  px-md":"default"===o,"max-w-screen-lg md:px-xl  px-md py-lg":"static"===o,"max-w-screen-xl md:px-xl  px-md":"lg"===o,"h-full":d}),children:n})]})]})})]}),u&&(0,t.jsx)(L,{}),l&&(0,t.jsx)(a.xu,{variant:"offset",className:"md:hidden py-sm px-sm mt-md pb-lg md:pb-0",children:(0,t.jsx)(F.Z,{})}),(0,t.jsx)(x,{})]})};var ea=er},14181:function(e,s,l){var t=l(85893),i=l(11238),r=l(77438),a=l(21320),n=l(33299),o=l(67294),c=l(88767),d=l(24054);let m=e=>{var s,l;let{showAvatar:m,showCreatorLabel:x,showEdit:u,isCurrentUser:h=!0,textColor:p,username:f,image:v,anon:j}=e,{data:g}=(0,n.useSession)(),[b,y]=o.useState(!1),[k,w]=o.useState(null!=f?f:h?null==g?void 0:null===(s=g.user)||void 0===s?void 0:s.username:"Unknown user"),[N,C]=o.useState(),{mutate:z,isLoading:A}=(0,c.useMutation)({mutationKey:"editUsername",mutationFn:()=>fetch("/api/user",{method:"PUT",body:JSON.stringify({username:k})}),onSuccess:e=>{e.json().then(s=>{if(200!==e.status){C(s.message);return}y(!1),C(void 0),(0,i.U)()})}});(0,o.useEffect)(()=>{var e;w(null!=f?f:h?null==g?void 0:null===(e=g.user)||void 0===e?void 0:e.username:"Unknown user")},[f,h,null==g?void 0:null===(l=g.user)||void 0===l?void 0:l.username]);let T="@perplexity-bot@"===k;return(0,t.jsxs)("div",{className:"flex items-center gap-x-xs relative",children:[m&&(0,t.jsx)(d.Z,{size:"small",anon:j,user:T?"/static/images/bot.png":null!=v?v:h?null==g?void 0:g.user.image:void 0}),b?(0,t.jsx)("div",{children:(0,t.jsx)(r.II,{value:k,disabled:A,errorText:null!=N?N:""===k?"Username cannot be empty":"",onChange:e=>w(e.target.value),className:"md:min-w-[300px]",inlineEditBlock:(0,t.jsxs)("div",{className:"flex items-center ml-sm gap-x-xs",children:[(0,t.jsx)(r.zx,{text:"Save",variant:k===g.user.username||""===k||A?"common":"primary",size:"small",disabled:k===g.user.username||""===k||A,onClick:()=>z()}),(0,t.jsx)(r.zx,{text:"Cancel",size:"small",disabled:A,onClick:()=>{w(g.user.username),y(!1)}})]})})}):(0,t.jsx)(r.RT,{variant:"smallBold",color:p,className:"line-clamp-1 break-all",children:j?"Anonymous":T?"Perplexity Bot":k}),x&&(0,t.jsx)(r.xu,{variant:"offset",className:"py-xs px-sm rounded-full",children:(0,t.jsx)(r.RT,{variant:"tiny",color:"light",children:"Author"})}),u&&!b&&(0,t.jsx)(r.Av,{pill:!0,size:"small",icon:a.Y,onClick:()=>y(!0)})]})};s.Z=m},1729:function(e,s,l){l.d(s,{k:function(){return r}});var t=l(77438),i=l(67294);let r=()=>{let e=(0,i.useContext)(t.Vw),s=(0,i.useCallback)((s,l)=>{if(!e){console.log("Could not save user settings: null socket");return}e.emit("save_user_settings",s,()=>null==l?void 0:l())},[e]);return{saveUserSettings:s}}},11238:function(e,s,l){l.d(s,{U:function(){return t}});let t=()=>{let e=new Event("visibilitychange");document.dispatchEvent(e)}}}]);